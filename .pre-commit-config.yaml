# ============================================================================
# CRITICAL: Pre-commit Discipline
# ============================================================================
# ALWAYS run `pre-commit run --all-files` before committing code.
#
# Pre-commit hooks are enforced in CI. Running locally prevents push failures
# and wasted CI cycles.
#
# Auto-fixes: When pre-commit modifies files (formatting, trailing whitespace,
# etc.), you MUST commit those fixes as part of the SAME commit as your code
# changes. Do NOT create separate "fix pre-commit" commits.
#
# CI is a safety net, not a substitute for local checks.
# ============================================================================

# Pre-commit configuration
# Install:  pip install pre-commit && pre-commit install
# Run:  pre-commit run --all-files
#
# Note: This file configures pre-commit hooks for all projects. It handles
# Python formatting/linting and Markdown validation. Remove only if your
# project does not use pre-commit at all.

repos:
  # General hooks
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v6.0.0
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
      - id: check-yaml
      - id: check-added-large-files

  # Python formatting (remove if not using Python)
  # - repo: https://github.com/psf/black
  #   rev: 26.1.0
  #   hooks:
  #     - id: black
  #       args: [--line-length=100]

  # Python linting (remove if not using Python)
  # - repo: https://github.com/astral-sh/ruff-pre-commit
  #   rev: v0.14.14
  #   hooks:
  #     - id: ruff-check
  #       args: [--fix, --line-length=100]

  # Markdown linting
  - repo: https://github.com/DavidAnson/markdownlint-cli2
    rev: v0.20.0
    hooks:
      - id: markdownlint-cli2

  # Terraform formatting and validation (remove if not using Terraform)
  - repo: https://github.com/antonbabenko/pre-commit-terraform
    rev: v1.105.0
    hooks:
      - id: terraform_fmt
      - id: terraform_validate
      - id: terraform_tflint
        args:
          - --args=--config=__GIT_WORKING_DIR__/.tflint.hcl
